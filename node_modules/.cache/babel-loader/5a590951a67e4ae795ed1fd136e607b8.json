{"ast":null,"code":"import _defineProperty from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createAsyncThunk}from\"@reduxjs/toolkit\";import Axios from\"axios\";import{createSlice}from\"@reduxjs/toolkit\";export var createNewMessageAsync=createAsyncThunk(\"message/createNewMessageAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var response,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.post(\"https://chat-web-vz9a.onrender.com/api/message/\".concat(payload.chat),payload,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:response=_context.sent;message=response.data;return _context.abrupt(\"return\",message);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());export var getAllMessagesAsync=createAsyncThunk(\"message/getAllMessagesAsync\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(chatId){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"https://chat-web-vz9a.onrender.com/api/message/\".concat(chatId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 2:data=_context2.sent;return _context2.abrupt(\"return\",data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());var MessageSlice=createSlice({name:\"message\",initialState:[],reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,createNewMessageAsync.fulfilled,function(state,action){}),_defineProperty(_extraReducers,getAllMessagesAsync.fulfilled,function(state,action){return action.payload.data.data;}),_extraReducers)});export default MessageSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","Axios","createSlice","createNewMessageAsync","payload","post","chat","headers","Authorization","localStorage","getItem","response","message","data","console","log","getAllMessagesAsync","chatId","get","MessageSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","reducer"],"sources":["C:/Users/admin/Documents/Workspace/client/src/redux/Slices/MessageSlice.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nexport const createNewMessageAsync = createAsyncThunk(\r\n  \"message/createNewMessageAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `https://chat-web-vz9a.onrender.com/api/message/${payload.chat}`, payload, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) { \r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllMessagesAsync = createAsyncThunk(\r\n  \"message/getAllMessagesAsync\",\r\n  async (chatId) => {\r\n    const data = await Axios.get(`https://chat-web-vz9a.onrender.com/api/message/${chatId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\nconst MessageSlice = createSlice({\r\n  name: \"message\",\r\n  initialState: [],\r\n  reducers: {\r\n  },\r\n  extraReducers: {\r\n    [createNewMessageAsync.fulfilled]: (state, action) => {\r\n    },\r\n    [getAllMessagesAsync.fulfilled]: (state, action) => {\r\n      return action.payload.data.data;\r\n    },\r\n  },\r\n});\r\n\r\nexport default MessageSlice.reducer;\r\n"],"mappings":"kaAAA,OAASA,gBAAT,KAAiC,kBAAjC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAO,IAAMC,sBAAqB,CAAGH,gBAAgB,CACnD,+BADmD,4FAEnD,iBAAOI,OAAP,+KAE2BH,MAAK,CAACI,IAAN,0DAC6BD,OAAO,CAACE,IADrC,EAC6CF,OAD7C,CACsD,CAC3EG,OAAO,CAAE,CACPC,aAAa,kBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CADN,CADkE,CADtD,CAF3B,QAEUC,QAFV,eASUC,OATV,CASoBD,QAAQ,CAACE,IAT7B,iCAUWD,OAVX,0DAYIE,OAAO,CAACC,GAAR,cAZJ,oEAFmD,+DAA9C,CAmBP,MAAO,IAAMC,oBAAmB,CAAGhB,gBAAgB,CACjD,6BADiD,6FAEjD,kBAAOiB,MAAP,wJACqBhB,MAAK,CAACiB,GAAN,0DAA4DD,MAA5D,EAAsE,CACvFV,OAAO,CAAE,CACPC,aAAa,kBAAYC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CADN,CAD8E,CAAtE,CADrB,QACQG,IADR,iDAMSA,IANT,0DAFiD,iEAA5C,CAYP,GAAMM,aAAY,CAAGjB,WAAW,CAAC,CAC/BkB,IAAI,CAAE,SADyB,CAE/BC,YAAY,CAAE,EAFiB,CAG/BC,QAAQ,CAAE,EAHqB,CAK/BC,aAAa,mDACVpB,qBAAqB,CAACqB,SADZ,CACwB,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACrD,CAFU,iCAGVV,mBAAmB,CAACQ,SAHV,CAGsB,SAACC,KAAD,CAAQC,MAAR,CAAmB,CAClD,MAAOA,OAAM,CAACtB,OAAP,CAAeS,IAAf,CAAoBA,IAA3B,CACD,CALU,iBALkB,CAAD,CAAhC,CAcA,cAAeM,aAAY,CAACQ,OAA5B"},"metadata":{},"sourceType":"module"}