{"ast":null,"code":"import _defineProperty from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import Axios from\"axios\";export var loginAsync=createAsyncThunk(\"auth/loginAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var response,user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.post(\"https://chat-web-vz9a.onrender.com/api/auth/login\",payload);case 2:response=_context.sent;localStorage.setItem(\"token\",response.data.token);user=response.data;return _context.abrupt(\"return\",user);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());var AuthSlice=createSlice({name:\"auth\",initialState:[],reducers:{getCurrentState:function getCurrentState(state){return state;},logoutAccount:function logoutAccount(state){localStorage.removeItem(\"token\");return state;}},extraReducers:_defineProperty({},loginAsync.fulfilled,function(state,action){state.push(action.payload.data);})});export var selectAuth=function selectAuth(state){return state.auth;};var _AuthSlice$actions=AuthSlice.actions,getCurrentState=_AuthSlice$actions.getCurrentState,logoutAccount=_AuthSlice$actions.logoutAccount;export{getCurrentState,logoutAccount};export default AuthSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","Axios","loginAsync","payload","post","response","localStorage","setItem","data","token","user","AuthSlice","name","initialState","reducers","getCurrentState","state","logoutAccount","removeItem","extraReducers","fulfilled","action","push","selectAuth","auth","actions","reducer"],"sources":["C:/Users/admin/Documents/Workspace/client/src/redux/Slices/AuthSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\n\r\nexport const loginAsync = createAsyncThunk(\r\n  \"auth/loginAsync\",\r\n  async (payload) => {\r\n    const response = await Axios.post(\r\n      \"https://chat-web-vz9a.onrender.com/api/auth/login\",\r\n      payload\r\n    );\r\n    localStorage.setItem(\"token\", response.data.token);\r\n    const user = response.data;\r\n    return user;\r\n  }\r\n);\r\nconst AuthSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState: [],\r\n  reducers: {\r\n    getCurrentState: (state) => {\r\n      return state;},\r\n    logoutAccount: (state) => { \r\n      localStorage.removeItem(\"token\");\r\n      return state;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [loginAsync.fulfilled]: (state, action) => {\r\n      state.push(action.payload.data);\r\n    },\r\n  },\r\n});\r\nexport const selectAuth = (state) => state.auth;\r\nexport const { getCurrentState, logoutAccount } = AuthSlice.actions;\r\nexport default AuthSlice.reducer;\r\n"],"mappings":"+YAAA,OAASA,WAAT,CAAsBC,gBAAtB,KAA8C,kBAA9C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,WAAU,CAAGF,gBAAgB,CACxC,iBADwC,4FAExC,iBAAOG,OAAP,4JACyBF,MAAK,CAACG,IAAN,CACrB,mDADqB,CAErBD,OAFqB,CADzB,QACQE,QADR,eAKEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,QAAQ,CAACG,IAAT,CAAcC,KAA5C,EACMC,IANR,CAMeL,QAAQ,CAACG,IANxB,iCAOSE,IAPT,wDAFwC,+DAAnC,CAYP,GAAMC,UAAS,CAAGZ,WAAW,CAAC,CAC5Ba,IAAI,CAAE,MADsB,CAE5BC,YAAY,CAAE,EAFc,CAG5BC,QAAQ,CAAE,CACRC,eAAe,CAAE,yBAACC,KAAD,CAAW,CAC1B,MAAOA,MAAP,CAAc,CAFR,CAGRC,aAAa,CAAE,uBAACD,KAAD,CAAW,CACxBV,YAAY,CAACY,UAAb,CAAwB,OAAxB,EACA,MAAOF,MAAP,CACD,CANO,CAHkB,CAW5BG,aAAa,oBACVjB,UAAU,CAACkB,SADD,CACa,SAACJ,KAAD,CAAQK,MAAR,CAAmB,CACzCL,KAAK,CAACM,IAAN,CAAWD,MAAM,CAAClB,OAAP,CAAeK,IAA1B,EACD,CAHU,CAXe,CAAD,CAA7B,CAiBA,MAAO,IAAMe,WAAU,CAAG,QAAbA,WAAa,CAACP,KAAD,QAAWA,MAAK,CAACQ,IAAjB,EAAnB,CACA,uBAA2Cb,SAAS,CAACc,OAArD,CAAQV,eAAR,oBAAQA,eAAR,CAAyBE,aAAzB,oBAAyBA,aAAzB,C,sCACP,cAAeN,UAAS,CAACe,OAAzB"},"metadata":{},"sourceType":"module"}