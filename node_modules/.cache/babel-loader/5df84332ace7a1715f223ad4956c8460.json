{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from \"axios\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nexport const addNewFriendAsync = createAsyncThunk(\"user/addNewFriendAsync\", async payload => {\n  try {\n    const response = await Axios.post(`http://localhost:5000/api/user/addFriend`, payload, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const message = response.data;\n    return message;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const acceptFriendAsync = createAsyncThunk(\"user/acceptFriendAsync\", async payload => {\n  try {\n    const response = await Axios.post(`http://localhost:5000/api/user/acceptFriend`, payload, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const message = response.data;\n    return message;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const getUserByIdAsync = createAsyncThunk(\"user/getUserByIdAsync\", async userId => {\n  console.log(\"fetching data\");\n  const data = await Axios.get(`http://localhost:5000/api/user/${userId}`, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  });\n  return data;\n});\nexport const FindUserByNameAsync = createAsyncThunk(\"user/FindUserByNameAsync\", async payload => {\n  console.log(payload);\n\n  try {\n    const response = await Axios.post(`http://localhost:5000/api/user/findUser`, payload, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const message = response.data;\n    console.log(message);\n    return message;\n  } catch (error) {\n    console.log(error);\n  }\n});\nconst UserSlice = createSlice({\n  name: \"user\",\n  initialState: {},\n  reducers: {},\n  extraReducers: {\n    [addNewFriendAsync.fulfilled]: (state, action) => {\n      console.log(\"adding friend successfully\");\n    },\n    [acceptFriendAsync.fulfilled]: (state, action) => {\n      console.log(\"accepting friend successfully\");\n    },\n    [getUserByIdAsync.fulfilled]: (state, action) => {\n      console.log(action.payload.data.data.user);\n      state = { ...action.payload.data.data.user\n      };\n      console.log(\"getting user successfully\");\n      return action.payload.data.data.user;\n    },\n    [FindUserByNameAsync.fulfilled]: (state, action) => {\n      console.log(\"finding user successfully\");\n    }\n  }\n});\nexport default UserSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","Axios","createSlice","addNewFriendAsync","payload","response","post","headers","Authorization","localStorage","getItem","message","data","error","console","log","acceptFriendAsync","getUserByIdAsync","userId","get","FindUserByNameAsync","UserSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","user","reducer"],"sources":["C:/Users/admin/Documents/Workspace/ReactJS/chat-app/client/src/redux/Slices/UserSlice.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const addNewFriendAsync = createAsyncThunk(\r\n  \"user/addNewFriendAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `http://localhost:5000/api/user/addFriend`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const acceptFriendAsync = createAsyncThunk(\r\n  \"user/acceptFriendAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `http://localhost:5000/api/user/acceptFriend`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getUserByIdAsync = createAsyncThunk(\r\n  \"user/getUserByIdAsync\",\r\n  async (userId) => {\r\n    console.log(\"fetching data\");\r\n    const data = await Axios.get(`http://localhost:5000/api/user/${userId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const FindUserByNameAsync = createAsyncThunk(\r\n  \"user/FindUserByNameAsync\",\r\n  async (payload) => {\r\n    console.log(payload);\r\n    try {\r\n      const response = await Axios.post(\r\n        `http://localhost:5000/api/user/findUser`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      console.log(message);\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nconst UserSlice = createSlice({\r\n  name: \"user\",\r\n  initialState:{},\r\n  reducers: {},\r\n  extraReducers: {\r\n    [addNewFriendAsync.fulfilled]: (state, action) => {\r\n      console.log(\"adding friend successfully\");\r\n    },\r\n    [acceptFriendAsync.fulfilled]: (state, action) => {\r\n      console.log(\"accepting friend successfully\");\r\n    },\r\n    [getUserByIdAsync.fulfilled]: (state, action) => {\r\n      console.log(action.payload.data.data.user);\r\n      state = { ...action.payload.data.data.user };\r\n      console.log(\"getting user successfully\");\r\n      return action.payload.data.data.user;\r\n    },\r\n    [FindUserByNameAsync.fulfilled]: (state, action) => {\r\n      console.log(\"finding user successfully\");\r\n    }\r\n  },\r\n});\r\n\r\nexport default UserSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}