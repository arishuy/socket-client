{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport Axios from \"axios\";\nimport { createSlice } from \"@reduxjs/toolkit\";\nexport const createNewMessageAsync = createAsyncThunk(\"message/createNewMessageAsyncAsync\", async payload => {\n  try {\n    const response = await Axios.post(`http://localhost:5000/api/message/${payload.chat}`, payload, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const message = response.data; // console.log(message);\n\n    return message;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const getAllMessagesAsync = createAsyncThunk(\"message/getAllMessagesAsync\", async chatId => {\n  const data = await Axios.get(`http://localhost:5000/api/message/${chatId}`, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  });\n  return data;\n});\nconst MessageSlice = createSlice({\n  name: \"message\",\n  initialState: [],\n  reducers: {},\n  extraReducers: {\n    [createNewMessageAsync.fulfilled]: (state, action) => {\n      console.log(\"adding data successfully\");\n    },\n    [getAllMessagesAsync.fulfilled]: (state, action) => {\n      console.log(\"fetching data successfully\"); // console.log(action.payload.data.data);\n\n      return action.payload.data.data;\n    }\n  }\n});\nexport default MessageSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","Axios","createSlice","createNewMessageAsync","payload","response","post","chat","headers","Authorization","localStorage","getItem","message","data","error","console","log","getAllMessagesAsync","chatId","get","MessageSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","reducer"],"sources":["C:/Users/admin/Desktop/clone/chat/client/src/redux/Slices/MessageSlice.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\nexport const createNewMessageAsync = createAsyncThunk(\r\n  \"message/createNewMessageAsyncAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `http://localhost:5000/api/message/${payload.chat}`, payload, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      }\r\n      );\r\n      const message = response.data;\r\n      // console.log(message);\r\n      return message;\r\n    } catch (error) { \r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllMessagesAsync = createAsyncThunk(\r\n  \"message/getAllMessagesAsync\",\r\n  async (chatId) => {\r\n    const data = await Axios.get(`http://localhost:5000/api/message/${chatId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\nconst MessageSlice = createSlice({\r\n  name: \"message\",\r\n  initialState: [],\r\n  reducers: {\r\n  },\r\n  extraReducers: {\r\n    [createNewMessageAsync.fulfilled]: (state, action) => {\r\n      console.log(\"adding data successfully\");\r\n    },\r\n    [getAllMessagesAsync.fulfilled]: (state, action) => {\r\n      console.log(\"fetching data successfully\");\r\n      // console.log(action.payload.data.data);\r\n      return action.payload.data.data;\r\n    },\r\n  },\r\n});\r\n\r\nexport default MessageSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAO,MAAMC,qBAAqB,GAAGH,gBAAgB,CACnD,oCADmD,EAEnD,MAAOI,OAAP,IAAmB;EACjB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAN,CACpB,qCAAoCF,OAAO,CAACG,IAAK,EAD7B,EACgCH,OADhC,EACyC;MAC9DI,OAAO,EAAE;QACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;MADhD;IADqD,CADzC,CAAvB;IAOA,MAAMC,OAAO,GAAGP,QAAQ,CAACQ,IAAzB,CARE,CASF;;IACA,OAAOD,OAAP;EACD,CAXD,CAWE,OAAOE,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF,CAjBkD,CAA9C;AAoBP,OAAO,MAAMG,mBAAmB,GAAGjB,gBAAgB,CACjD,6BADiD,EAEjD,MAAOkB,MAAP,IAAkB;EAChB,MAAML,IAAI,GAAG,MAAMZ,KAAK,CAACkB,GAAN,CAAW,qCAAoCD,MAAO,EAAtD,EAAyD;IAC1EV,OAAO,EAAE;MACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;IADhD;EADiE,CAAzD,CAAnB;EAKA,OAAOE,IAAP;AACD,CATgD,CAA5C;AAYP,MAAMO,YAAY,GAAGlB,WAAW,CAAC;EAC/BmB,IAAI,EAAE,SADyB;EAE/BC,YAAY,EAAE,EAFiB;EAG/BC,QAAQ,EAAE,EAHqB;EAK/BC,aAAa,EAAE;IACb,CAACrB,qBAAqB,CAACsB,SAAvB,GAAmC,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACpDZ,OAAO,CAACC,GAAR,CAAY,0BAAZ;IACD,CAHY;IAIb,CAACC,mBAAmB,CAACQ,SAArB,GAAiC,CAACC,KAAD,EAAQC,MAAR,KAAmB;MAClDZ,OAAO,CAACC,GAAR,CAAY,4BAAZ,EADkD,CAElD;;MACA,OAAOW,MAAM,CAACvB,OAAP,CAAeS,IAAf,CAAoBA,IAA3B;IACD;EARY;AALgB,CAAD,CAAhC;AAiBA,eAAeO,YAAY,CAACQ,OAA5B"},"metadata":{},"sourceType":"module"}