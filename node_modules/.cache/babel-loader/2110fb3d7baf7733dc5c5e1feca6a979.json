{"ast":null,"code":"import _defineProperty from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createAsyncThunk}from\"@reduxjs/toolkit\";import Axios from\"axios\";import{createSlice}from\"@reduxjs/toolkit\";export var addNewFriendAsync=createAsyncThunk(\"user/addNewFriendAsync\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var response,message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.post(\"https://chat-web-vz9a.onrender.com/api/user/addFriend\",payload,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:response=_context.sent;message=response.data;return _context.abrupt(\"return\",message);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}());export var acceptFriendAsync=createAsyncThunk(\"user/acceptFriendAsync\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(payload){var response,message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Axios.post(\"https://chat-web-vz9a.onrender.com/api/user/acceptFriend\",payload,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:response=_context2.sent;message=response.data;return _context2.abrupt(\"return\",message);case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var getUserByIdAsync=createAsyncThunk(\"user/getUserByIdAsync\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(userId){var data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(\"fetching data\");_context3.next=3;return Axios.get(\"https://chat-web-vz9a.onrender.com/api/user/\".concat(userId),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:data=_context3.sent;return _context3.abrupt(\"return\",data);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());export var FindUserByNameAsync=createAsyncThunk(\"user/FindUserByNameAsync\",/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(payload){var response,message;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return Axios.post(\"https://chat-web-vz9a.onrender.com/api/user/findUser\",payload,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});case 3:response=_context4.sent;message=response.data;return _context4.abrupt(\"return\",message);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}());var UserSlice=createSlice({name:\"user\",initialState:{},reducers:{},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,addNewFriendAsync.fulfilled,function(state,action){console.log(\"adding friend successfully\");}),_defineProperty(_extraReducers,acceptFriendAsync.fulfilled,function(state,action){console.log(\"accepting friend successfully\");}),_defineProperty(_extraReducers,getUserByIdAsync.fulfilled,function(state,action){console.log(action.payload.data.data.user);state=_objectSpread({},action.payload.data.data.user);console.log(\"getting user successfully\");return action.payload.data.data.user;}),_defineProperty(_extraReducers,FindUserByNameAsync.fulfilled,function(state,action){console.log(\"finding user successfully\");}),_extraReducers)});export default UserSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","Axios","createSlice","addNewFriendAsync","payload","post","headers","Authorization","localStorage","getItem","response","message","data","console","log","acceptFriendAsync","getUserByIdAsync","userId","get","FindUserByNameAsync","UserSlice","name","initialState","reducers","extraReducers","fulfilled","state","action","user","reducer"],"sources":["C:/Users/admin/Documents/Workspace/client/src/redux/Slices/UserSlice.js"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport Axios from \"axios\";\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const addNewFriendAsync = createAsyncThunk(\r\n  \"user/addNewFriendAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `https://chat-web-vz9a.onrender.com/api/user/addFriend`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const acceptFriendAsync = createAsyncThunk(\r\n  \"user/acceptFriendAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `https://chat-web-vz9a.onrender.com/api/user/acceptFriend`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getUserByIdAsync = createAsyncThunk(\r\n  \"user/getUserByIdAsync\",\r\n  async (userId) => {\r\n    console.log(\"fetching data\");\r\n    const data = await Axios.get(`https://chat-web-vz9a.onrender.com/api/user/${userId}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    return data;\r\n  }\r\n);\r\n\r\nexport const FindUserByNameAsync = createAsyncThunk(\r\n  \"user/FindUserByNameAsync\",\r\n  async (payload) => {\r\n    try {\r\n      const response = await Axios.post(\r\n        `https://chat-web-vz9a.onrender.com/api/user/findUser`,\r\n        payload,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        }\r\n      );\r\n      const message = response.data;\r\n      return message;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n);\r\n\r\nconst UserSlice = createSlice({\r\n  name: \"user\",\r\n  initialState:{},\r\n  reducers: {},\r\n  extraReducers: {\r\n    [addNewFriendAsync.fulfilled]: (state, action) => {\r\n      console.log(\"adding friend successfully\");\r\n    },\r\n    [acceptFriendAsync.fulfilled]: (state, action) => {\r\n      console.log(\"accepting friend successfully\");\r\n    },\r\n    [getUserByIdAsync.fulfilled]: (state, action) => {\r\n      console.log(action.payload.data.data.user);\r\n      state = { ...action.payload.data.data.user };\r\n      console.log(\"getting user successfully\");\r\n      return action.payload.data.data.user;\r\n    },\r\n    [FindUserByNameAsync.fulfilled]: (state, action) => {\r\n      console.log(\"finding user successfully\");\r\n    }\r\n  },\r\n});\r\n\r\nexport default UserSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}