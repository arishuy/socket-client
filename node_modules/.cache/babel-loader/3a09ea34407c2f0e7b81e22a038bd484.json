{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/Documents/Workspace/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import\"../scss/components/People.css\";import Friendcard from\"./Card/Friendcard\";import Requestcard from\"./Card/Requestcard\";import{useDispatch,useSelector}from\"react-redux\";import{getUserByIdAsync}from\"../redux/Slices/UserSlice\";import{Link,Navigate,useNavigate}from\"react-router-dom\";import{FindUserByNameAsync}from\"../redux/Slices/UserSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var People=function People(){var _people$friends,_people$waitingReques;var dispatch=useDispatch();var dispatch1=useDispatch();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),currentInput=_React$useState2[0],setCurrentInput=_React$useState2[1];var user=useSelector(function(state){return state.auth;});var people=useSelector(function(state){return state.user;});var navigate1=useNavigate();var userId=user[0].user._id;useEffect(function(){dispatch(getUserByIdAsync(userId)).then(function(res){});},[dispatch]);var friendElements=(_people$friends=people.friends)===null||_people$friends===void 0?void 0:_people$friends.map(function(friend){return/*#__PURE__*/_jsx(Link,{className:\"link-friend\",to:\"/PersonalPage/\".concat(friend._id),children:/*#__PURE__*/_jsx(Friendcard,{name:friend.name},friend._id)});});var requestElements=(_people$waitingReques=people.waitingRequestFriends)===null||_people$waitingReques===void 0?void 0:_people$waitingReques.map(function(request){return/*#__PURE__*/_jsx(Requestcard,{requestId:request._id,name:request.name});});function handleSearch(){dispatch1(FindUserByNameAsync({name:currentInput,email:currentInput})).then(function(res){navigate1(\"/PersonalPage/\".concat(res.payload.data.userId));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"people\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-bounder\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-people\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-users\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"container__input\",placeholder:\"Search person...\",value:currentInput,onChange:function onChange(e){return setCurrentInput(e.target.value);},onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){handleSearch();}}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-friends\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Total Friends\"}),/*#__PURE__*/_jsx(\"div\",{className:\"friends\",children:friendElements})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"friend-request\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Friend Requests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"total-request\",children:requestElements})]})]})]});};export default People;","map":{"version":3,"names":["React","useEffect","Friendcard","Requestcard","useDispatch","useSelector","getUserByIdAsync","Link","Navigate","useNavigate","FindUserByNameAsync","People","dispatch","dispatch1","useState","currentInput","setCurrentInput","user","state","auth","people","navigate1","userId","_id","then","res","friendElements","friends","map","friend","name","requestElements","waitingRequestFriends","request","handleSearch","email","payload","data","e","target","value","key"],"sources":["C:/Users/admin/Documents/Workspace/client/src/components/People.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport \"../scss/components/People.css\";\r\nimport Friendcard from \"./Card/Friendcard\";\r\nimport Requestcard from \"./Card/Requestcard\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getUserByIdAsync } from \"../redux/Slices/UserSlice\";\r\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\r\nimport { FindUserByNameAsync } from \"../redux/Slices/UserSlice\";\r\n\r\nconst People = () => {\r\n  const dispatch = useDispatch();\r\n  const dispatch1 = useDispatch();\r\n  const [currentInput, setCurrentInput] = React.useState(\"\");\r\n  const user = useSelector((state) => state.auth);\r\n  const people = useSelector((state) => state.user);\r\n  const navigate1 = useNavigate();\r\n  const userId = user[0].user._id;\r\n  useEffect(() => {\r\n    dispatch(getUserByIdAsync(userId)).then((res) => { \r\n    });\r\n  }, [dispatch]);\r\n  const friendElements = people.friends?.map((friend) => {\r\n    return (\r\n      <Link className=\"link-friend\" to={`/PersonalPage/${friend._id}`}>\r\n        <Friendcard key={friend._id} name={friend.name} />\r\n      </Link>\r\n    );\r\n  });\r\n  const requestElements = people.waitingRequestFriends?.map((request) => {\r\n    return (\r\n        <Requestcard requestId={request._id} name={request.name} />\r\n    );\r\n  });\r\n  function handleSearch() {\r\n    dispatch1(FindUserByNameAsync({ name: currentInput, email: currentInput })).then((res) => { \r\n      navigate1(`/PersonalPage/${res.payload.data.userId}`);\r\n    });\r\n  }\r\n  return (\r\n    <div className=\"people\">\r\n      <div className=\"search-bounder\">\r\n        <div className=\"search-people\">\r\n          <i class=\"fa-solid fa-users\"></i>\r\n          <input\r\n            type=\"text\"\r\n            class=\"container__input\"\r\n            placeholder=\"Search person...\"\r\n            value={currentInput}\r\n            onChange={(e) => setCurrentInput(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                handleSearch();\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"main-content\">\r\n        <div className=\"total-friends\">\r\n          <h1>Total Friends</h1>\r\n          <div className=\"friends\">{friendElements}</div>\r\n        </div>\r\n        <div className=\"friend-request\">\r\n          <h1>Friend Requests</h1>\r\n          <div className=\"total-request\">{requestElements}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default People;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}